<div class="row">
    <div class="col s12 m12 center">
        <h2>LogIn into Real Time Location </h2>
    </div>
    <div class="card col s12 m12">
        <form id="form-login" action="/user/login" method="POST">
            <div class="container">
                <label><b>Username</b></label>
                <input id="username" type="text" placeholder="Enter Username" name="username" required>

                <label><b>Password</b></label>
                <input id="password" type="password" placeholder="Enter Password" name="password" required>

                <button class="btn" type="submit">Login</button>
            </div>
        </form>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("#form-login").on("submit", function () {
            $.ajax({
                data: { "username": $("#username").val(), "password": $("#password").val() },
                type: "post", url: "login",
                success: function (result, stats, xhr) {
                    if (result.success) {
                        sessionStorage.setItem("tkn", "Bearer " + result.data.token)
                        location.href = "/user/me"
                    }
                    else {
                        alert("Error al craer usuario")
                    }
                }
            });
            return false;
        });
    });
</script>